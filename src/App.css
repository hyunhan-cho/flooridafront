/* 획득한 뱃지 UI */
.earned-badges-row {
  display: flex;
  gap: 10px;
  align-items: center;
}

/* 홈에서만 상단 패딩 제거 (헤더가 safe-area 포함 처리) */
.app.home-view {
  padding-top: 0;
}

/* 홈 화면에서는 상단 패딩 제거 (헤더가 safe-area를 처리) */
.home-view {
  padding-top: 0;
}

:root {
  --brand-teal: #3a8284;
  /* 기본 산세리프 폰트 (원래 글씨체) */
  --font-sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
    sans-serif;
  /* NES 스타일 픽셀 폰트 변수 */
  --font-pixel-latin: "Press Start 2P", system-ui, sans-serif;
  --font-pixel-kr: "NeoDunggeunmo", "Press Start 2P", system-ui, sans-serif;
}

/* 고정 하단 네비게이션 (반응형) */
.navbar {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  min-height: var(--nav-height);
  background: var(--brand-teal);
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  align-items: center;
  padding: 8px 12px calc(8px + env(safe-area-inset-bottom, 0px));
  box-shadow: 0 -8px 24px rgba(0, 0, 0, 0.25);
  z-index: 120;
}
.nav-item {
  background: transparent;
  border: none;
  color: #eef3f5;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  cursor: pointer;
  min-width: 56px;
  padding: 2px 4px;
}
.nav-icon {
  width: var(--nav-icon-size);
  height: var(--nav-icon-size);
  object-fit: contain;
  image-rendering: pixelated;
  -ms-interpolation-mode: nearest-neighbor;
  filter: drop-shadow(0 2px 0 rgba(0, 0, 0, 0.2));
}
.nav-label {
  font-size: clamp(10px, 2.8vw, 12px);
  font-weight: 700;
  color: #eef3f5;
  font-family: var(--font-pixel-kr);
  line-height: 1.1;
}

@media (max-width: 420px) {
  .navbar {
    padding: 6px 8px calc(6px + env(safe-area-inset-bottom, 0px));
  }
  .nav-item {
    min-width: auto;
    gap: 4px;
    padding: 2px 4px;
  }
}
.earned-badge-img {
  width: clamp(40px, 12vw, 52px);
  height: auto;
  image-rendering: pixelated;
  -ms-interpolation-mode: nearest-neighbor;
}
/* 배지 획득 토스트 */
.toast-layer {
  position: fixed;
  left: 50%;
  bottom: calc(20px + env(safe-area-inset-bottom, 0px));
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  gap: 10px;
  z-index: 1000;
}
.badge-toast {
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(17, 24, 39, 0.9);
  color: #fff;
  padding: 10px 14px;
  border-radius: 12px;
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.35);
  animation: toast-pop 0.25s ease-out;
}
.badge-toast-img {
  width: 32px;
  height: 32px;
  image-rendering: pixelated;
}
@keyframes toast-pop {
  from {
    transform: translateY(10px) scale(0.98);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}
/* 앱 전체 레이아웃 */
/* 글로벌 박스사이징으로 모바일 스크롤 튐 방지 및 예상치 못한 폭 증가 방지 */
*,
*::before,
*::after {
  box-sizing: border-box;
}

.app {
  /* Figma 스타일의 틸 배경 */
  background: linear-gradient(180deg, #3a8284 0%, #2f6f6d 55%, #1c2d2c 100%);
  /* 모바일 브라우저 주소창 변동 대응: dvh를 우선 사용, 미지원 시 vh 사용 */
  min-height: 100dvh;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  /* iOS safe-area 고려 */
  /* 네비게이션 높이에 맞춰 하단 패딩 자동 조정 */
  --nav-height: clamp(68px, 10dvh, 96px);
  --nav-icon-size: clamp(28px, 8vw, 40px);
  padding: calc(16px + env(safe-area-inset-top, 0px)) clamp(10px, 4vw, 16px)
    calc(var(--nav-height) + env(safe-area-inset-bottom, 0px));
  font-family: var(--font-pixel-kr);
  color: #fff;
  /* 공통 폭 변수: 패널은 여전히 카드 폭, 엘리베이터는 풀블리드 */
  --wrap-width: min(92vw, 410px);
  --panel-width: clamp(320px, 92vw, 420px);
}

.app.home-view {
  padding-top: 0 !important;
}

/* 엘리베이터를 좌우 여백 없이 풀블리드로 */
.elevator-wrapper {
  width: 100vw;
  max-width: none;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  margin-bottom: 10px;
}

/* 엘리베이터 본체 */
.elevator {
  position: relative;
  width: 100%;
  aspect-ratio: 3 / 4;
  border: 5px solid #64748b;
  /* 엘리베이터 외곽 모서리: 각지게(0px) */
  --elevator-radius: 0px;
  border-radius: var(--elevator-radius);
  overflow: hidden;
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.4);
  background: #0f172a;
}

/* 흔들림 애니메이션 */
@keyframes shake {
  10%,
  90% {
    transform: translate3d(-1px, 0, 0);
  }
  20%,
  80% {
    transform: translate3d(2px, 0, 0);
  }
  30%,
  50%,
  70% {
    transform: translate3d(-1px, 0, 0);
  }
  40%,
  60% {
    transform: translate3d(1px, 0, 0);
  }
}
.elevator-moving {
  animation: shake 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;
}

/* 층 표시기 - 제거됨, TopInfo가 대체 */

/* 창밖 풍경 */
.floor-scene {
  position: absolute;
  inset: 0;
  transition: all 0.5s ease-in-out;
  display: flex;
  align-items: center;
  justify-content: center;
}
.scene-label {
  position: absolute;
  left: 50%;
  top: 44%;
  transform: translate(-50%, -50%);
  color: #fff;
  font-weight: 900;
  /* 작은 화면에서 가독성 유지 */
  font-size: clamp(14px, 4.8vw, 20px);
  background: rgba(15, 23, 42, 0.7);
  padding: clamp(8px, 2.4vw, 10px) clamp(12px, 3.8vw, 16px);
  border-radius: 999px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  letter-spacing: 0.5px;
}

/* 엘리베이터 내부 프레임 */
.elevator-inside {
  position: absolute;
  inset: 0;
  z-index: 10;
  background-size: 100% 100%;
  background-repeat: no-repeat;
  /* 외곽 라운드와 일치 */
  border-radius: inherit;
}

/* 엘리베이터 문 */
.door {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 50%;
  z-index: 20;
  background-size: 200% 100%;
  background-repeat: no-repeat;
  transition: transform 1.5s ease-in-out;
}
.door-left {
  left: 0;
  background-position: left;
  border-top-left-radius: var(--elevator-radius);
  border-bottom-left-radius: var(--elevator-radius);
}
.door-right {
  right: 0;
  background-position: right;
  border-top-right-radius: var(--elevator-radius);
  border-bottom-right-radius: var(--elevator-radius);
}

/* 제어판 */
.control-panel {
  background: #d1d5db; /* gray-300 */
  padding: 16px;
  border-bottom-left-radius: 12px;
  border-bottom-right-radius: 12px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}
.btn {
  padding: 14px;
  font-size: 22px;
  font-weight: 800;
  border-radius: 8px;
  background: #6b7280; /* gray-500 */
  color: white;
  border: none;
  cursor: pointer;
  transition: background 0.2s ease-in-out, opacity 0.2s;
}
.btn:hover {
  background: #f59e0b; /* amber-500 */
}
.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.btn-active {
  background: #fbbf24;
  color: #111827;
}

.hint {
  margin-top: 24px;
  text-align: center;
}

/* 상단 정보 배지 - 세로 배치 */
.top-info {
  position: absolute;
  top: 14px;
  left: 14px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 35;
  align-items: flex-start;
}
.badge {
  background: #fff;
  color: #111827;
  border-radius: 8px;
  padding: clamp(6px, 2.2vw, 8px) clamp(10px, 3vw, 12px);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
  border: 3px solid #000;
  font-size: clamp(12px, 3.4vw, 14px);
  line-height: 1.25;
  display: inline-flex;
  width: auto;
}
.badge.date {
  font-weight: 800;
}
.badge.floor {
  font-weight: 800;
  display: flex;
  flex-direction: column;
  gap: 4px;
  align-items: flex-start;
}
.badge.floor > div:first-child {
  font-size: clamp(10px, 3vw, 12px);
  font-weight: 600;
}
.badge.floor > div:last-child {
  font-size: clamp(18px, 5.6vw, 24px);
  font-weight: 900;
}

/* 구름 */
.cloud {
  position: absolute;
  width: 80px;
  height: 40px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 40px;
  filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.15));
  opacity: 0.9;
}
.cloud:before,
.cloud:after {
  content: "";
  position: absolute;
  background: inherit;
  border-radius: 50%;
}
.cloud:before {
  width: 32px;
  height: 32px;
  left: 10px;
  top: -12px;
}
.cloud:after {
  width: 42px;
  height: 42px;
  left: 34px;
  top: -18px;
}
.c1 {
  left: 12%;
  top: 26%;
  animation: cloud-move 18s linear infinite;
}
.c2 {
  left: 55%;
  top: 38%;
  animation: cloud-move 24s linear infinite reverse;
}
.c3 {
  left: 32%;
  top: 58%;
  animation: cloud-move 20s linear infinite;
}
@keyframes cloud-move {
  from {
    transform: translateX(-20px);
  }
  to {
    transform: translateX(20px);
  }
}

/* 캐릭터 (원형 이모지 느낌) - 문보다 아래 레이어 */
/* 이미지 캐릭터: 투명 배경 PNG을 좌하단에 배치 */
.character-img {
  position: absolute;
  bottom: 10px;
  left: 14px;
  height: clamp(90px, 28vw, 140px);
  width: auto;
  z-index: 15;
  pointer-events: none;
}

/* 미니 컨트롤 (위/아래 버튼) */
.mini-controls {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin: 14px auto 20px;
  width: var(--wrap-width);
}
.mini {
  width: clamp(40px, 12vw, 48px);
  height: clamp(36px, 10vw, 40px);
  font-weight: 900;
  font-size: clamp(16px, 4.5vw, 18px);
  border-radius: 9999px;
  border: none;
  background: #1e293b;
  color: #fff;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.3);
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}
.mini:hover {
  background: #334155;
  transform: translateY(-2px);
}
.mini:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none;
}

/* 공통 패널 */
.panel {
  background: #e5e7eb;
  color: #111827;
  margin: 0 auto 16px;
  padding: clamp(14px, 4vw, 18px);
  border-radius: 22px;
  width: var(--panel-width);
  max-width: 100%;
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.3);
}

/* Figma-like card */
:root {
  --card-accent: #7aa7ff;
}
.card {
  background: #f3f4f6;
  color: #0f172a;
  border-radius: 18px;
  width: 100%;
  max-width: var(--panel-width);
  margin: 0 auto 14px;
  padding: clamp(10px, 3.2vw, 12px) clamp(10px, 3.2vw, 12px)
    clamp(12px, 3.6vw, 14px);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.22);
  border: 2px solid rgba(0, 0, 0, 0.6);
}
.card-quests {
  border-color: var(--card-accent);
}
.card-quests .card-title {
  font-size: 22px;
}
.card-title {
  margin: 0 0 10px;
  font-size: clamp(18px, 4.8vw, 22px);
  font-weight: 900;
}
.card-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}
.card-count {
  font-weight: 800;
  color: #6b7280;
}

/* 오늘의 퀘스트 영역은 원래 글씨체 유지 */
.card-quests,
.card-quests * {
  font-family: var(--font-sans) !important;
}

/* Progress bar */
.bar-row {
  display: flex;
  align-items: center;
  gap: 8px;
}
.bar {
  position: relative;
  flex: 1 1 auto;
  height: 56px;
  background: linear-gradient(180deg, #e9ecef 0%, #e3e6ea 50%, #d9dde3 100%);
  border-radius: 9999px;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.09);
  overflow: hidden;
}
.bar-fill {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 0;
  background: linear-gradient(180deg, #d0824e 0%, #c56e3c 100%);
  border-radius: inherit;
  box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.55),
    inset 0 -1px 0 rgba(0, 0, 0, 0.08);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.16));
  transition: width 0.3s ease;
}
/* specular highlight stripe */
.bar-fill::before {
  content: "";
  position: absolute;
  left: 8px;
  right: 8px;
  top: 20%;
  height: 36%;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.85),
    rgba(255, 255, 255, 0.55)
  );
  border-radius: inherit;
  pointer-events: none;
}
.bar-count {
  min-width: 36px;
  text-align: right;
  font-weight: 800;
  color: #9aa3ad;
  font-size: 14px;
}
/* Quests */
.card-quests .bar {
  height: clamp(16px, 4.6vw, 20px);
  margin: 6px 0 12px;
  border-radius: 9999px;
}
.quest-list.fancy {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.quest-item {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: clamp(10px, 3vw, 12px) clamp(12px, 3.4vw, 14px);
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
}
.quest-item.done {
  background: #c7cbd1;
  border-color: #c7cbd1;
  box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.08);
}
.quest-item.done .quest-text {
  color: #1f2937;
}
.quest-item.done .quest-sub {
  color: #374151;
}
.quest-item.done .quest-checkbox {
  background: #111827;
  border-color: #111827;
}
.quest-texts {
  display: flex;
  gap: 10px;
  align-items: baseline;
}
.quest-text {
  font-size: 14px;
  font-weight: 800;
  color: #111827;
}
.quest-sub {
  font-size: 12px;
  color: #9aa3ad;
  font-weight: 700;
}
.quest-checkbox {
  all: unset;
  box-sizing: border-box;
  width: clamp(20px, 5.2vw, 24px);
  height: clamp(20px, 5.2vw, 24px);
  padding: 0;
  border-radius: 4px;
  border: 2px solid #111827;
  background: #fff;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.15);
  cursor: pointer;
}
.quest-checkbox:focus {
  outline: none;
}
.quest-checkbox.checked {
  background: #111827;
}

/* Weekbar */
.weekbar {
  background: #f3f4f6;
  border-radius: 18px;
  border: 2px solid rgba(0, 0, 0, 0.6);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.25);
  width: 100%;
  max-width: var(--panel-width);
  margin: 0 auto 18px;
  --wb-padX: clamp(10px, 2.8vw, 12px);
  --wb-padB: clamp(12px, 3.2vw, 14px);
  padding: var(--wb-padX) var(--wb-padX) var(--wb-padB);
  position: relative;
  overflow: hidden;
}
.weekbar,
.weekbar * {
  font-family: var(--font-sans) !important;
}
.weekbar-labels {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: clamp(4px, 1.4vw, 8px);
  justify-items: center;
  color: #6b7280;
  font-weight: 900;
  font-size: clamp(10px, 2.6vw, 12px);
  text-transform: lowercase;
  letter-spacing: 0.2px;
  background: #d9dde3;
  border-radius: 12px;
  padding: 6px var(--wb-padX);
  margin: calc(-1 * var(--wb-padX)) calc(-1 * var(--wb-padX)) 8px;
}
.weekbar-body {
  display: grid;
  grid-template-columns: clamp(20px, 6vw, 24px) 1fr clamp(20px, 6vw, 24px);
  align-items: center;
  margin-top: clamp(6px, 2vw, 8px);
  gap: clamp(4px, 1.6vw, 6px);
}
.weekbar-chips {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: clamp(6px, 1.8vw, 10px);
}
.chip {
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 9999px;
  background: transparent;
  color: #111827;
  font-weight: 900;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: none;
  margin: 0;
  font-size: clamp(12px, 3.2vw, 16px);
  border: 2px solid transparent;
}
/* past days: show colored circles */
.chip.past {
  box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.12);
}
.chip.past.pass {
  background: #ef4444;
  color: #ffffff;
}
.chip.past.fail {
  background: #60a5fa;
  color: #0f172a;
}
/* today: ring only */
.chip.today {
  background: #ffffff;
  color: #111827;
  border-color: #111827;
  box-shadow: 0 0 0 2px #ffffff inset;
}
/* future: plain text only */
.chip.future {
  background: transparent;
  color: #111827;
}
.weekbar-arrow {
  width: clamp(20px, 6vw, 24px);
  height: clamp(20px, 6vw, 24px);
  border-radius: 9999px;
  background: #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
  color: #111827;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.12);
  font-size: clamp(12px, 2.8vw, 16px);
}
.panel-title {
  margin: 0 0 12px;
  font-size: 17px;
  font-weight: 800;
  font-family: var(--font-pixel-kr);
}

/* ----- Month Projects (single card) ----- */
.card-month {
  width: 100%;
  max-width: var(--panel-width);
  margin: 0 auto 18px;
}
.card-month,
.card-month * {
  font-family: var(--font-sans);
}
.card-month .month-title {
  margin: 2px 2px 10px;
  font-size: clamp(18px, 4.8vw, 22px);
  font-weight: 900;
  color: #0f172a;
}
.month-weekdays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  background: #d9dde3;
  color: #6b7280;
  font-weight: 900;
  border-radius: 12px;
  padding: 8px 12px;
  margin: 0 -2px 10px;
  text-transform: lowercase;
  letter-spacing: 0.2px;
}
.month-wd {
  text-align: center;
  font-size: 12px;
}
.month-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 14px 0;
  padding: 6px 6px 2px;
}
.day {
  position: relative;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  aspect-ratio: 1;
  font-weight: 900;
  color: #111827;
}
.day .day-num {
  position: relative;
  z-index: 1;
}
.day.today::after {
  content: "";
  position: absolute;
  inset: 15%;
  border: 2px solid #111827;
  border-radius: 9999px;
  background: transparent;
  box-shadow: none;
  pointer-events: none;
  z-index: 0;
}

.month-grid {
  --calendar-accent: #f97316;
}
.day.planned::after {
  content: "";
  position: absolute;
  inset: 18%;
  border-radius: 18px;
  background: var(--calendar-accent);
  opacity: 0.28;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.16);
}
.day.planned .day-num {
  font-weight: 900;
  color: #0f172a;
}
.day.planned.today::after {
  inset: 12%;
  border: 2px solid #111827;
  opacity: 0.4;
}
.day.planned.today .day-num {
  color: #0f172a;
}

.project-list {
  margin-top: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.project-item {
  position: relative;
  display: flex;
  align-items: center;
  gap: 10px;
  background: #ffffff;
  border-radius: 12px;
  padding: 12px 16px;
  color: #0f172a;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  border: 1px solid #e9ecef;
  font-weight: 700;
  font-size: 14px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.project-item.active {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.12);
}
.project-select {
  all: unset;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
  cursor: pointer;
}
.project-select:focus-visible {
  outline: 3px solid rgba(59, 130, 246, 0.5);
  border-radius: 10px;
}
.project-title {
  font-size: 14px;
  font-weight: 800;
  color: #0f172a;
}
.project-plan {
  font-size: 12px;
  font-weight: 600;
  color: #475569;
  opacity: 0.85;
}

/* 획득한 뱃지 UI */
.earned-badges-row {
  display: flex;
  gap: 10px;
  align-items: center;
}
.earned-badge-img {
  width: clamp(40px, 12vw, 52px);
  height: auto;
  image-rendering: pixelated;
  -ms-interpolation-mode: nearest-neighbor;
}

/* 진행바 */
.progress {
  height: clamp(12px, 3.8vw, 16px);
  background: #d1d5db;
  border-radius: 999px;
  overflow: hidden;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #fde68a, #fbbf24);
  width: 0%;
  transition: width 0.4s ease;
}
.progress-label {
  text-align: right;
  margin-top: 8px;
  font-weight: 700;
  color: #6b7280;
  font-size: clamp(13px, 3.6vw, 15px);
  font-family: var(--font-pixel-kr);
}

/* 퀘스트 리스트 */
.quest-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.quest {
  background: #fff;
  border-radius: 12px;
  padding: clamp(10px, 3.2vw, 12px) clamp(12px, 3.6vw, 14px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
  transition: all 0.2s;
  width: 100%;
  box-sizing: border-box;
}
.quest:hover {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);
}
.quest label {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  font-size: clamp(14px, 3.8vw, 15px);
  font-family: var(--font-pixel-kr);
}
.quest input {
  width: clamp(18px, 5vw, 20px);
  height: clamp(18px, 5vw, 20px);
  cursor: pointer;
}
.quest.done {
  background: #64748b;
  text-decoration: line-through;
  color: #f1f5f9;
}

/* 작은 화면에서 디테일 추가 조정 */
@media (max-width: 480px) {
  .elevator {
    border-width: 4px;
    border-radius: var(--elevator-radius);
  }
  .top-info {
    top: 12px;
    left: 12px;
    gap: 6px;
  }
}

@media (max-width: 360px) {
  .elevator {
    border-width: 3px;
    border-radius: var(--elevator-radius);
  }
  .mini-controls {
    gap: 10px;
  }
}

/* 홈 상단 로고 헤더 (Figma teal, full-bleed) */
.home-header {
  /* 풀 블리드 배경 */
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  margin-top: 0;
  margin-bottom: 8px;
  background: var(--brand-teal); /* Figma teal */
  display: flex;
  justify-content: center;
  align-items: center;
  padding: calc(12px + env(safe-area-inset-top, 0px)) 0 12px;
  position: sticky;
  top: 0;
  z-index: 60;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.18);
}
.home-logo {
  width: clamp(160px, 48vw, 220px);
  height: auto;
  image-rendering: pixelated;
  -ms-interpolation-mode: nearest-neighbor;
  filter: drop-shadow(0 2px 0 rgba(0, 0, 0, 0.22))
    drop-shadow(0 8px 16px rgba(0, 0, 0, 0.34));
}

/* 엘리베이터 내부 카드(TopInfo) Figma 스타일 */
.top-info-card {
  position: absolute;
  left: 50%;
  top: 8px;
  transform: translateX(-50%);
  background: #f3f4f6;
  color: #0f172a;
  border-radius: 12px;
  padding: 10px 14px;
  z-index: 40;
  border: 3px solid #111827;
  width: calc(100% - 22px);
  max-width: calc(var(--wrap-width) - 22px);
  box-shadow: 0 6px 0 rgba(0, 0, 0, 0.45), 0 16px 28px rgba(0, 0, 0, 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
}
.info-date {
  font-weight: 900;
  font-size: 12px;
  letter-spacing: 0.8px;
  color: #0f172a;
  margin-bottom: 6px;
  font-family: var(--font-pixel-latin);
}
.info-lines {
  font-weight: 800;
  line-height: 1.35;
  font-family: var(--font-pixel-kr);
}
.info-main {
  font-size: clamp(13px, 3.4vw, 15px);
  font-family: var(--font-pixel-kr);
}
.info-sub {
  font-size: clamp(12px, 3.2vw, 14px);
  opacity: 0.95;
  font-family: var(--font-pixel-kr);
}
.info-num {
  font-size: 1.2em;
  letter-spacing: 0.3px;
  font-family: var(--font-pixel-latin);
  font-variant-numeric: tabular-nums;
}

/* 로그인 화면 */
.login-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  background: var(--brand-teal);
  padding: 16px 16px 24px;
  position: relative;
}
.login-back {
  position: absolute;
  top: 12px;
  left: 12px;
  background: transparent;
  border: none;
  color: #e6fffa;
  font-size: 22px;
  line-height: 1;
  cursor: pointer;
  opacity: 0.9;
}
.login-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 6px;
}
.login-logo {
  width: clamp(180px, 50vw, 200px);
  height: auto;
  image-rendering: pixelated;
  -ms-interpolation-mode: nearest-neighbor;
  filter: drop-shadow(0 2px 0 rgba(0, 0, 0, 0.22))
    drop-shadow(0 8px 16px rgba(0, 0, 0, 0.34));
}
.login-tagline {
  margin-top: 6px;
  font-size: 12px;
  color: rgba(255, 255, 255, 0.95);
  letter-spacing: 0.2px;
}
.login-surface {
  width: min(92vw, 320px);
  background: #ffffff;
  border-radius: 18px;
  margin-top: 12px;
  padding: 22px 16px 26px;
  box-shadow: 0 26px 60px rgba(0, 0, 0, 0.36);
  min-height: clamp(520px, 78vh, 920px);
  display: flex;
}
.login-card {
  width: 100%;
  max-width: 320px;
  margin: 0 auto;
  background: transparent;
  color: #111827;
  border-radius: 18px;
  border: none;
  box-shadow: none;
  padding: 0;
}
.login-title {
  margin: 0 0 6px;
  font-size: 20px;
  font-weight: 900;
  color: #2f6f6d;
}
.login-subtitle {
  margin: 0 0 16px;
  font-size: 13px;
  color: #6b7280;
}
.login-label {
  display: block;
  font-size: 13px;
  font-weight: 700;
  color: #374151;
  margin: 10px 2px 8px;
}
.login-input {
  width: 100%;
  height: 44px;
  padding: 10px 14px;
  border: 1px solid #e3e6ea;
  border-radius: 10px;
  outline: none;
  font-size: 14px;
  background: #fff;
  color: #111827;
}
.login-input:focus {
  border-color: #7cb7b2;
  box-shadow: 0 0 0 3px rgba(124, 183, 178, 0.15);
}
.login-input::placeholder {
  color: #b9c0c8;
}
.login-button {
  width: 100%;
  margin-top: 16px;
  background: #4f8f89;
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 12px 14px;
  font-weight: 800;
  cursor: pointer;
  box-shadow: 0 10px 22px rgba(0, 0, 0, 0.2);
}
.login-button:hover {
  filter: brightness(0.98);
}
.login-footer {
  text-align: center;
  margin-top: 14px;
  font-size: 12px;
  color: #6b7280;
}
.login-footer a {
  color: #2f6f6d;
  font-weight: 800;
  text-decoration: underline;
  margin-left: 6px;
}
/* 회원가입 동의 체크박스 */
.agree-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 8px 2px 4px;
  font-size: 12px;
  color: #6b7280;
}
.agree-row input {
  width: 16px;
  height: 16px;
  accent-color: #4f8f89;
  cursor: pointer;
}

/* 공통 뒤로가기 버튼 */
.back-btn {
  position: fixed;
  top: 12px;
  left: 12px;
  background: transparent;
  border: none;
  padding: 6px;
  cursor: pointer;
  z-index: 100;
}
.back-btn svg {
  display: block;
}

/* 스플래시 화면 */
.splash-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 24px 16px;
  background: linear-gradient(180deg, #f2cf77 0%, #e9a756 100%);
  position: relative;
}
.splash-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 24px 16px;
  background: radial-gradient(
    1200px 600px at 50% 20%,
    #ffe29a,
    #ffb866 45%,
    #f28a2b 70%,
    #c75c2b 100%
  );
  position: relative;
  overflow: hidden;
}
.splash-bg {
  position: absolute;
  inset: -20%;
  background: conic-gradient(
    from 120deg at 50% 20%,
    rgba(255, 255, 255, 0.35),
    rgba(255, 255, 255, 0) 35%,
    rgba(255, 255, 255, 0.2) 45%,
    rgba(255, 255, 255, 0) 75%
  );
  filter: blur(30px);
  animation: spin 22s linear infinite;
  opacity: 0.65;
}
.splash-beams {
  position: absolute;
  inset: -10% -40%;
  background: repeating-linear-gradient(
    100deg,
    rgba(255, 255, 255, 0.14),
    rgba(255, 255, 255, 0.14) 8px,
    rgba(255, 255, 255, 0) 8px,
    rgba(255, 255, 255, 0) 24px
  );
  transform: rotate(-8deg);
  animation: beam-move 6s linear infinite;
  mix-blend-mode: soft-light;
  opacity: 0.5;
}
.splash-stars {
  position: absolute;
  inset: 0;
  pointer-events: none;
}
.star {
  position: absolute;
  width: 6px;
  height: 6px;
  background: radial-gradient(
    circle at 30% 30%,
    #fff,
    rgba(255, 255, 255, 0.6) 45%,
    rgba(255, 255, 255, 0) 70%
  );
  border-radius: 50%;
  animation: twinkle 2.4s ease-in-out infinite;
  filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.8));
}
.splash-actions {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  gap: 10px;
  z-index: 2;
}
.splash-btn {
  background: #0ea5a5;
  color: #fff;
  border: none;
  border-radius: 12px;
  padding: 10px 16px;
  font-weight: 900;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.25),
    0 0 0 2px rgba(255, 255, 255, 0.2) inset;
  cursor: pointer;
  letter-spacing: 0.3px;
  transition: transform 0.08s ease, filter 0.15s ease, box-shadow 0.2s ease;
}
.splash-btn.neon {
  box-shadow: 0 0 18px rgba(34, 211, 238, 0.8), 0 8px 22px rgba(0, 0, 0, 0.25),
    0 0 0 2px rgba(255, 255, 255, 0.2) inset;
  text-shadow: 0 0 10px rgba(34, 211, 238, 0.8);
}
.splash-btn.neon.alt {
  background: #ef4444;
  box-shadow: 0 0 18px rgba(248, 113, 113, 0.9), 0 8px 22px rgba(0, 0, 0, 0.25),
    0 0 0 2px rgba(255, 255, 255, 0.2) inset;
  text-shadow: 0 0 10px rgba(248, 113, 113, 0.85);
}
.splash-btn:hover {
  filter: brightness(1.05);
  transform: translateY(-2px);
}
.splash-btn:active {
  transform: translateY(0);
  filter: brightness(0.98);
}
.splash-tagline {
  color: #ffffff;
  font-size: clamp(18px, 5vw, 28px);
  font-weight: 900;
  margin-bottom: 14px;
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
  position: relative;
  z-index: 1;
}
.splash-tagline.glitch {
  animation: glitch 3s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite 2s;
}
.logo-wrap {
  position: relative;
  z-index: 1;
}
.splash-logo {
  width: clamp(220px, 70vw, 360px);
  height: auto;
  image-rendering: pixelated;
  -ms-interpolation-mode: nearest-neighbor;
  filter: drop-shadow(0 2px 0 rgba(0, 0, 0, 0.22))
    drop-shadow(0 8px 16px rgba(0, 0, 0, 0.34));
}
.logo-shine {
  position: absolute;
  left: -30%;
  top: 0;
  width: 60%;
  height: 100%;
  transform: skewX(-20deg);
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.85) 45%,
    rgba(255, 255, 255, 0) 100%
  );
  filter: blur(2px);
  animation: shine 3.6s ease-in-out infinite 1.2s;
  opacity: 0.6;
}
.splash-vignette {
  pointer-events: none;
  position: absolute;
  inset: 0;
  box-shadow: inset 0 0 140px rgba(0, 0, 0, 0.4);
}
/* 개인 플랜 상단 헤더: home-header 레이아웃 재사용 */
.home-header.plan-header {
  justify-content: flex-start; /* 가운데 → 왼쪽 정렬 */
  padding-top: 10px;
  padding-left: 30px; /* 좌우 여백만 추가 */
  padding-right: 30px;
  padding-bottom: 30px;
  gap: 14px; /* 아이콘-텍스트 간 간격 */
}

/* 개인 플랜용 아이콘/텍스트 스타일 */
.plan-header-icon {
  width: 40px;
  height: 40px;
  flex-shrink: 0;
  object-fit: contain;
  image-rendering: pixelated;
  -ms-interpolation-mode: nearest-neighbor;
}

.plan-header-title {
  font-size: 30px;
  font-weight: 900;
  color: #fff;
  letter-spacing: 1px;
  font-family: var(--font-pixel-kr);
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
@keyframes beam-move {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 600px 0;
  }
}
@keyframes twinkle {
  0%,
  100% {
    opacity: 0.2;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}
@keyframes shine {
  0% {
    transform: translateX(0) skewX(-20deg);
  }
  45% {
    transform: translateX(220%) skewX(-20deg);
  }
  100% {
    transform: translateX(220%) skewX(-20deg);
  }
}
@keyframes glitch {
  0%,
  100% {
    transform: translate(0);
    text-shadow: 0 0 0 transparent;
  }
  20% {
    transform: translate(-1px, 0.5px);
    text-shadow: -1px 0 rgba(0, 255, 255, 0.6), 1px 0 rgba(255, 0, 255, 0.6);
  }
  40% {
    transform: translate(0.5px, -1px);
    text-shadow: 1px 0 rgba(0, 255, 255, 0.6), -1px 0 rgba(255, 0, 255, 0.6);
  }
  60% {
    transform: translate(-0.5px, 1px);
    text-shadow: -1px 0 rgba(0, 255, 255, 0.6), 1px 0 rgba(255, 0, 255, 0.6);
  }
  80% {
    transform: translate(1px, 0);
    text-shadow: 1px 0 rgba(0, 255, 255, 0.6), -1px 0 rgba(255, 0, 255, 0.6);
  }
}
